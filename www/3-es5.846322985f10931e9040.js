function _defineProperties(l,n){for(var u=0;u<n.length;u++){var e=n[u];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(l,e.key,e)}}function _createClass(l,n,u){return n&&_defineProperties(l.prototype,n),u&&_defineProperties(l,u),l}function _classCallCheck(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"3/vk":function(l,n,u){"use strict";u.r(n);var e=u("8Y7J"),t=function l(){_classCallCheck(this,l)},a=u("pMnS"),o=u("MKJQ"),r=u("sZkV"),i=u("s7LF"),s=u("SVse"),b=u("mrSG"),c=u("KApT"),p=u("HUy7"),m=u("sM2F"),d=u("JV4b"),g=function(){function l(n,u,e,t,a,o,r,i){_classCallCheck(this,l),this.formBuilder=n,this.alertCtrl=u,this.router=e,this.userData=t,this.utilProvider=a,this.errorChecker=o,this.estampaProvider=r,this.activatedRoute=i,this.isLoading=!1,this.loading=!1}return _createClass(l,[{key:"ngAfterViewInit",value:function(){var l=this;this.initFormEstampa();var n=this.activatedRoute.snapshot.paramMap.get("estampaId");n&&(this.loading=!0,this.estampaProvider.findById(n).then((function(n){n&&(l.estampa=n,l.estampaForm.patchValue(l.estampa),l.loading=!1)}))),this.getUsername()}},{key:"initFormEstampa",value:function(){this.estampaForm=this.formBuilder.group({nome:new i.c("",i.p.required),categoria:new i.c("",i.p.required),descricao:new i.c("",i.p.required),imagem:new i.c("",i.p.required)})}},{key:"salvarEstampa",value:function(){var l=this;this.isLoading=!0,this.estampaProvider.create(this.estampaForm.value).then((function(){l.estampaForm.reset(),l.router.navigateByUrl("/app/tabs/estampas")})).catch((function(n){l.errorChecker.getErrorMessage("Erro ao tentar salvar estampa",n)})).then((function(){return l.isLoading=!1}))}},{key:"editarEstampa",value:function(){var l=this;this.isLoading=!0,this.estampaProvider.update(this.estampaForm.value,this.estampa.id).then((function(){l.estampaForm.reset(),l.router.navigateByUrl("/app/tabs/estampas")})).catch((function(n){l.errorChecker.getErrorMessage("Erro ao tentar editar estampa",n)})).then((function(){return l.isLoading=!1}))}},{key:"deletarEstampa",value:function(){var l=this;this.isLoading=!0,this.estampaProvider.delete(this.estampa.id).then((function(){l.estampaForm.reset(),l.router.navigateByUrl("/app/tabs/estampas")})).catch((function(n){l.errorChecker.getErrorMessage("Erro ao tentar deletar estampa",n)})).then((function(){return l.isLoading=!1}))}},{key:"updatePicture",value:function(){console.log("Clicked to update picture")}},{key:"changePropertyForm",value:function(l){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var u,e=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.alertCtrl.create({header:"Alterar "+l,buttons:["Cancelar",{text:"Ok",handler:function(l){e.userData.setUsername(l.username),e.getUsername()}}],inputs:[{type:"text",name:"username",value:this.username,placeholder:"username"}]});case 2:return u=n.sent,n.next=5,u.present();case 5:case"end":return n.stop()}}),n,this)})))}},{key:"updateImage",value:function(l){var n=this;if(l.target.files&&l.target.files.length>0){var u=new FileReader;u.readAsDataURL(l.target.files[0]),u.onload=function(){n.compressBase64Image(u.result.toString(),250,350).then((function(l){n.estampaForm.get("imagem").setValue(l)}))}}}},{key:"compressBase64Image",value:function(l,n,u){return new Promise((function(e,t){var a=new Image;a.src=l,a.onload=function(){var l=document.createElement("canvas");l.width=n,l.height=u;var t=l.getContext("2d");t.drawImage(a,0,0,n,u);var o=t.canvas.toDataURL();e(o)},a.onerror=function(l){return t(l)}}))}},{key:"changeUsername",value:function(){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function l(){var n,u=this;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.alertCtrl.create({header:"Change Username",buttons:["Cancelar",{text:"Ok",handler:function(l){u.userData.setUsername(l.username),u.getUsername()}}],inputs:[{type:"text",name:"username",value:this.username,placeholder:"username"}]});case 2:return n=l.sent,l.next=5,n.present();case 5:case"end":return l.stop()}}),l,this)})))}},{key:"getUsername",value:function(){var l=this;this.userData.getUsername().then((function(n){l.username=n}))}},{key:"logout",value:function(){this.userData.logout(),this.router.navigateByUrl("/login")}},{key:"support",value:function(){this.router.navigateByUrl("/support")}}]),l}(),h=u("iInd"),f=e.nb({encapsulation:0,styles:[["img[_ngcontent-%COMP%]{max-width:140px}"]],data:{}});function v(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,2,"ion-title",[],null,null,null,o.Vb,o.W)),e.ob(1,49152,null,0,r.yb,[e.h,e.k,e.x],null,null),(l()(),e.Ib(-1,0,["Editando Estampa"]))],null,null)}function k(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,2,"ion-title",[],null,null,null,o.Vb,o.W)),e.ob(1,49152,null,0,r.yb,[e.h,e.k,e.x],null,null),(l()(),e.Ib(-1,0,["Nova Estampa"]))],null,null)}function C(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,1,"ion-icon",[["name","images-outline"],["style","font-size: 100px;"]],null,null,null,o.tb,o.u)),e.ob(1,49152,null,0,r.D,[e.h,e.k,e.x],{name:[0,"name"]},null)],(function(l,n){l(n,1,0,"images-outline")}),null)}function y(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null))],null,(function(l,n){l(n,0,0,n.component.estampaForm.get("imagem").value)}))}function x(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,4,"ion-col",[],null,null,null,o.kb,o.l)),e.ob(1,49152,null,0,r.u,[e.h,e.k,e.x],null,null),(l()(),e.pb(2,0,null,0,2,"ion-button",[["expand","block"],["type","submit"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.salvarEstampa()&&e),e}),o.cb,o.d)),e.ob(3,49152,null,0,r.l,[e.h,e.k,e.x],{disabled:[0,"disabled"],expand:[1,"expand"],type:[2,"type"]},null),(l()(),e.Ib(-1,0,[" Salvar "]))],(function(l,n){l(n,3,0,!n.component.estampaForm.valid,"block","submit")}),null)}function B(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,4,"ion-col",[],null,null,null,o.kb,o.l)),e.ob(1,49152,null,0,r.u,[e.h,e.k,e.x],null,null),(l()(),e.pb(2,0,null,0,2,"ion-button",[["expand","block"],["type","submit"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.editarEstampa()&&e),e}),o.cb,o.d)),e.ob(3,49152,null,0,r.l,[e.h,e.k,e.x],{disabled:[0,"disabled"],expand:[1,"expand"],type:[2,"type"]},null),(l()(),e.Ib(-1,0,[" Editar "]))],(function(l,n){l(n,3,0,!n.component.estampaForm.valid,"block","submit")}),null)}function I(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,4,"ion-col",[],null,null,null,o.kb,o.l)),e.ob(1,49152,null,0,r.u,[e.h,e.k,e.x],null,null),(l()(),e.pb(2,0,null,0,2,"ion-button",[["color","danger"],["expand","block"],["type","submit"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.deletarEstampa()&&e),e}),o.cb,o.d)),e.ob(3,49152,null,0,r.l,[e.h,e.k,e.x],{color:[0,"color"],disabled:[1,"disabled"],expand:[2,"expand"],type:[3,"type"]},null),(l()(),e.Ib(-1,0,[" Deletar "]))],(function(l,n){l(n,3,0,"danger",!n.component.estampaForm.valid,"block","submit")}),null)}function w(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,68,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,u){var t=!0;return"submit"===n&&(t=!1!==e.Bb(l,2).onSubmit(u)&&t),"reset"===n&&(t=!1!==e.Bb(l,2).onReset()&&t),t}),null,null)),e.ob(1,16384,null,0,i.t,[],null,null),e.ob(2,540672,null,0,i.e,[[8,null],[8,null]],{form:[0,"form"]},null),e.Fb(2048,null,i.a,null,[i.e]),e.ob(4,16384,null,0,i.k,[[4,i.a]],null,null),(l()(),e.pb(5,0,null,null,5,"label",[["for","updateImage"]],null,null,null,null,null)),(l()(),e.eb(16777216,null,null,1,null,C)),e.ob(7,16384,null,0,s.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,null,1,null,y)),e.ob(9,16384,null,0,s.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.pb(10,0,null,null,0,"input",[["accept","image/*"],["id","updateImage"],["style","display: none;"],["type","file"]],null,[[null,"change"]],(function(l,n,u){var e=!0;return"change"===n&&(e=!1!==l.component.updateImage(u)&&e),e}),null,null)),(l()(),e.pb(11,0,null,null,57,"ion-list",[],null,null,null,o.yb,o.y)),e.ob(12,49152,null,0,r.P,[e.h,e.k,e.x],null,null),(l()(),e.pb(13,0,null,0,11,"ion-item",[],null,null,null,o.vb,o.w)),e.ob(14,49152,null,0,r.I,[e.h,e.k,e.x],null,null),(l()(),e.pb(15,0,null,0,2,"ion-label",[["color","primary"],["position","stacked"]],null,null,null,o.wb,o.x)),e.ob(16,49152,null,0,r.O,[e.h,e.k,e.x],{color:[0,"color"],position:[1,"position"]},null),(l()(),e.Ib(-1,0,["Nome"])),(l()(),e.pb(18,0,null,0,6,"ion-input",[["formControlName","nome"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var t=!0;return"ionBlur"===n&&(t=!1!==e.Bb(l,19)._handleBlurEvent(u.target)&&t),"ionChange"===n&&(t=!1!==e.Bb(l,19)._handleInputEvent(u.target)&&t),t}),o.ub,o.v)),e.ob(19,16384,null,0,r.Ob,[e.k],null,null),e.Fb(1024,null,i.h,(function(l){return[l]}),[r.Ob]),e.ob(21,671744,null,0,i.d,[[3,i.a],[8,null],[8,null],[6,i.h],[2,i.s]],{name:[0,"name"]},null),e.Fb(2048,null,i.i,null,[i.d]),e.ob(23,16384,null,0,i.j,[[4,i.i]],null,null),e.ob(24,49152,null,0,r.H,[e.h,e.k,e.x],{type:[0,"type"]},null),(l()(),e.pb(25,0,null,0,23,"ion-item",[],null,null,null,o.vb,o.w)),e.ob(26,49152,null,0,r.I,[e.h,e.k,e.x],null,null),(l()(),e.pb(27,0,null,0,2,"ion-label",[["color","primary"],["position","stacked"]],null,null,null,o.wb,o.x)),e.ob(28,49152,null,0,r.O,[e.h,e.k,e.x],{color:[0,"color"],position:[1,"position"]},null),(l()(),e.Ib(-1,0,["Categoria"])),(l()(),e.pb(30,0,null,0,18,"ion-select",[["formControlName","categoria"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var t=!0;return"ionBlur"===n&&(t=!1!==e.Bb(l,31)._handleBlurEvent(u.target)&&t),"ionChange"===n&&(t=!1!==e.Bb(l,31)._handleChangeEvent(u.target)&&t),t}),o.Lb,o.L)),e.ob(31,16384,null,0,r.Nb,[e.k],null,null),e.Fb(1024,null,i.h,(function(l){return[l]}),[r.Nb]),e.ob(33,671744,null,0,i.d,[[3,i.a],[8,null],[8,null],[6,i.h],[2,i.s]],{name:[0,"name"]},null),e.Fb(2048,null,i.i,null,[i.d]),e.ob(35,16384,null,0,i.j,[[4,i.i]],null,null),e.ob(36,49152,null,0,r.lb,[e.h,e.k,e.x],null,null),(l()(),e.pb(37,0,null,0,2,"ion-select-option",[["value","t-shirt"]],null,null,null,o.Kb,o.M)),e.ob(38,49152,null,0,r.mb,[e.h,e.k,e.x],{value:[0,"value"]},null),(l()(),e.Ib(-1,0,["T-shirt"])),(l()(),e.pb(40,0,null,0,2,"ion-select-option",[["value","pijama"]],null,null,null,o.Kb,o.M)),e.ob(41,49152,null,0,r.mb,[e.h,e.k,e.x],{value:[0,"value"]},null),(l()(),e.Ib(-1,0,["Pijama"])),(l()(),e.pb(43,0,null,0,2,"ion-select-option",[["value","cropped"]],null,null,null,o.Kb,o.M)),e.ob(44,49152,null,0,r.mb,[e.h,e.k,e.x],{value:[0,"value"]},null),(l()(),e.Ib(-1,0,["Cropped"])),(l()(),e.pb(46,0,null,0,2,"ion-select-option",[["value","vestido"]],null,null,null,o.Kb,o.M)),e.ob(47,49152,null,0,r.mb,[e.h,e.k,e.x],{value:[0,"value"]},null),(l()(),e.Ib(-1,0,["Vestido"])),(l()(),e.pb(49,0,null,0,11,"ion-item",[],null,null,null,o.vb,o.w)),e.ob(50,49152,null,0,r.I,[e.h,e.k,e.x],null,null),(l()(),e.pb(51,0,null,0,2,"ion-label",[["color","primary"],["position","stacked"]],null,null,null,o.wb,o.x)),e.ob(52,49152,null,0,r.O,[e.h,e.k,e.x],{color:[0,"color"],position:[1,"position"]},null),(l()(),e.Ib(-1,0,["Descri\xe7\xe3o"])),(l()(),e.pb(54,0,null,0,6,"ion-textarea",[["formControlName","descricao"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var t=!0;return"ionBlur"===n&&(t=!1!==e.Bb(l,55)._handleBlurEvent(u.target)&&t),"ionChange"===n&&(t=!1!==e.Bb(l,55)._handleInputEvent(u.target)&&t),t}),o.Ub,o.V)),e.ob(55,16384,null,0,r.Ob,[e.k],null,null),e.Fb(1024,null,i.h,(function(l){return[l]}),[r.Ob]),e.ob(57,671744,null,0,i.d,[[3,i.a],[8,null],[8,null],[6,i.h],[2,i.s]],{name:[0,"name"]},null),e.Fb(2048,null,i.i,null,[i.d]),e.ob(59,16384,null,0,i.j,[[4,i.i]],null,null),e.ob(60,49152,null,0,r.wb,[e.h,e.k,e.x],null,null),(l()(),e.pb(61,0,null,0,7,"ion-row",[],null,null,null,o.Gb,o.H)),e.ob(62,49152,null,0,r.hb,[e.h,e.k,e.x],null,null),(l()(),e.eb(16777216,null,0,1,null,x)),e.ob(64,16384,null,0,s.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,0,1,null,B)),e.ob(66,16384,null,0,s.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,0,1,null,I)),e.ob(68,16384,null,0,s.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,2,0,u.estampaForm),l(n,7,0,!u.estampaForm.get("imagem").value),l(n,9,0,u.estampaForm.get("imagem").value),l(n,16,0,"primary","stacked"),l(n,21,0,"nome"),l(n,24,0,"text"),l(n,28,0,"primary","stacked"),l(n,33,0,"categoria"),l(n,38,0,"t-shirt"),l(n,41,0,"pijama"),l(n,44,0,"cropped"),l(n,47,0,"vestido"),l(n,52,0,"primary","stacked"),l(n,57,0,"descricao"),l(n,64,0,!u.estampa),l(n,66,0,u.estampa),l(n,68,0,u.estampa)}),(function(l,n){l(n,0,0,e.Bb(n,4).ngClassUntouched,e.Bb(n,4).ngClassTouched,e.Bb(n,4).ngClassPristine,e.Bb(n,4).ngClassDirty,e.Bb(n,4).ngClassValid,e.Bb(n,4).ngClassInvalid,e.Bb(n,4).ngClassPending),l(n,18,0,e.Bb(n,23).ngClassUntouched,e.Bb(n,23).ngClassTouched,e.Bb(n,23).ngClassPristine,e.Bb(n,23).ngClassDirty,e.Bb(n,23).ngClassValid,e.Bb(n,23).ngClassInvalid,e.Bb(n,23).ngClassPending),l(n,30,0,e.Bb(n,35).ngClassUntouched,e.Bb(n,35).ngClassTouched,e.Bb(n,35).ngClassPristine,e.Bb(n,35).ngClassDirty,e.Bb(n,35).ngClassValid,e.Bb(n,35).ngClassInvalid,e.Bb(n,35).ngClassPending),l(n,54,0,e.Bb(n,59).ngClassUntouched,e.Bb(n,59).ngClassTouched,e.Bb(n,59).ngClassPristine,e.Bb(n,59).ngClassDirty,e.Bb(n,59).ngClassValid,e.Bb(n,59).ngClassInvalid,e.Bb(n,59).ngClassPending)}))}function F(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,4,"ion-content",[],null,null,null,o.lb,o.m)),e.ob(1,49152,null,0,r.v,[e.h,e.k,e.x],null,null),(l()(),e.pb(2,0,null,0,2,"div",[["class","ion-padding-top ion-text-center"]],null,null,null,null,null)),(l()(),e.eb(16777216,null,null,1,null,w)),e.ob(4,16384,null,0,s.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,4,0,n.component.estampaForm)}),null)}function E(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,3,"ion-content",[],null,null,null,o.lb,o.m)),e.ob(1,49152,null,0,r.v,[e.h,e.k,e.x],null,null),(l()(),e.pb(2,0,null,0,1,"ion-spinner",[["class","loading-list"]],null,null,null,o.Ob,o.P)),e.ob(3,49152,null,0,r.qb,[e.h,e.k,e.x],null,null)],null,null)}function P(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,11,"ion-header",[],null,null,null,o.sb,o.t)),e.ob(1,49152,null,0,r.C,[e.h,e.k,e.x],null,null),(l()(),e.pb(2,0,null,0,9,"ion-toolbar",[],null,null,null,o.Xb,o.Y)),e.ob(3,49152,null,0,r.Ab,[e.h,e.k,e.x],null,null),(l()(),e.pb(4,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,o.db,o.e)),e.ob(5,49152,null,0,r.m,[e.h,e.k,e.x],null,null),(l()(),e.pb(6,0,null,0,1,"ion-menu-button",[],null,null,null,o.zb,o.B)),e.ob(7,49152,null,0,r.S,[e.h,e.k,e.x],null,null),(l()(),e.eb(16777216,null,0,1,null,v)),e.ob(9,16384,null,0,s.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,0,1,null,k)),e.ob(11,16384,null,0,s.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,null,1,null,F)),e.ob(13,16384,null,0,s.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,null,1,null,E)),e.ob(15,16384,null,0,s.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,9,0,!1),l(n,11,0,!0),l(n,13,0,!u.loading),l(n,15,0,u.loading)}),null)}var M=e.lb("page-estampa-form",g,(function(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,1,"page-estampa-form",[],null,null,null,P,f)),e.ob(1,4243456,null,0,g,[i.b,r.b,h.m,c.a,p.a,m.a,d.a,h.a],null,null)],null,null)}),{},{},[]),U=function l(){_classCallCheck(this,l)};u.d(n,"EstampaFormModuleNgFactory",(function(){return K}));var K=e.mb(t,[],(function(l){return e.yb([e.zb(512,e.j,e.X,[[8,[a.a,M]],[3,e.j],e.v]),e.zb(4608,s.m,s.l,[e.s,[2,s.w]]),e.zb(4608,i.b,i.b,[]),e.zb(4608,i.r,i.r,[]),e.zb(4608,r.c,r.c,[e.x,e.g]),e.zb(4608,r.Fb,r.Fb,[r.c,e.j,e.p]),e.zb(4608,r.Kb,r.Kb,[r.c,e.j,e.p]),e.zb(1073742336,s.b,s.b,[]),e.zb(1073742336,i.q,i.q,[]),e.zb(1073742336,i.n,i.n,[]),e.zb(1073742336,i.f,i.f,[]),e.zb(1073742336,r.Cb,r.Cb,[]),e.zb(1073742336,h.q,h.q,[[2,h.v],[2,h.m]]),e.zb(1073742336,U,U,[]),e.zb(1073742336,t,t,[]),e.zb(1024,h.k,(function(){return[[{path:"",component:g}]]}),[])])}))}}]);