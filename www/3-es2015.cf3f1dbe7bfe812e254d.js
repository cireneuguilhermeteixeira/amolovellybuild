(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"3/vk":function(l,n,u){"use strict";u.r(n);var e=u("8Y7J");class t{}var a=u("pMnS"),o=u("MKJQ"),i=u("sZkV"),r=u("s7LF"),s=u("SVse"),b=u("mrSG"),p=u("KApT"),c=u("HUy7"),d=u("sM2F"),m=u("JV4b");class g{constructor(l,n,u,e,t,a,o,i){this.formBuilder=l,this.alertCtrl=n,this.router=u,this.userData=e,this.utilProvider=t,this.errorChecker=a,this.estampaProvider=o,this.activatedRoute=i,this.isLoading=!1,this.isEdit=!1}ngAfterViewInit(){this.isEdit=!1,this.initFormEstampa();let l=this.activatedRoute.snapshot.paramMap.get("estampa_id");l&&(this.isEdit=!0,this.isLoading=!0,this.estampaProvider.findById(l).then(l=>{l&&(this.estampa=l,this.estampaForm.patchValue(this.estampa),this.isLoading=!1)})),this.getUsername()}initFormEstampa(){this.estampaForm=this.formBuilder.group({nome:new r.c("",r.p.required),categoria:new r.c("",r.p.required),descricao:new r.c("",r.p.required),imagem:new r.c(null,r.p.required)})}salvarEstampa(){this.isLoading=!0,this.estampaProvider.create(this.estampaForm.value).then(()=>{this.estampaForm.reset(),this.router.navigateByUrl("/app/tabs/estampas")}).catch(l=>{this.errorChecker.getErrorMessage("Erro ao tentar salvar estampa",l)}).then(()=>this.isLoading=!1)}editarEstampa(){this.isLoading=!0,this.estampaProvider.update(this.estampaForm.value,this.estampa.id).then(()=>{this.estampaForm.reset(),this.router.navigateByUrl("/app/tabs/estampas")}).catch(l=>{this.errorChecker.getErrorMessage("Erro ao tentar editar estampa",l)}).then(()=>this.isLoading=!1)}deletarEstampa(){this.isLoading=!0,this.estampaProvider.delete(this.estampa.id).then(()=>{this.estampaForm.reset(),this.router.navigateByUrl("/app/tabs/estampas")}).catch(l=>{this.errorChecker.getErrorMessage("Erro ao tentar deletar estampa",l)}).then(()=>this.isLoading=!1)}updatePicture(){console.log("Clicked to update picture")}changePropertyForm(l){return b.a(this,void 0,void 0,(function*(){const n=yield this.alertCtrl.create({header:"Alterar "+l,buttons:["Cancelar",{text:"Ok",handler:l=>{this.userData.setUsername(l.username),this.getUsername()}}],inputs:[{type:"text",name:"username",value:this.username,placeholder:"username"}]});yield n.present()}))}updateImage(l){if(console.log(l),l.target.files&&l.target.files.length>0){let n=new FileReader;n.readAsDataURL(l.target.files[0]),n.onload=()=>{this.estampaForm.get("imagem").setValue(n.result.toString())}}}compressBase64Image(l,n,u){return new Promise((e,t)=>{const a=new Image;a.src=l,a.onload=()=>{const l=document.createElement("canvas");l.width=n,l.height=u;const t=l.getContext("2d");t.drawImage(a,0,0,n,u);const o=t.canvas.toDataURL();e(o)},a.onerror=l=>t(l)})}changeUsername(){return b.a(this,void 0,void 0,(function*(){const l=yield this.alertCtrl.create({header:"Change Username",buttons:["Cancelar",{text:"Ok",handler:l=>{this.userData.setUsername(l.username),this.getUsername()}}],inputs:[{type:"text",name:"username",value:this.username,placeholder:"username"}]});yield l.present()}))}getUsername(){this.userData.getUsername().then(l=>{this.username=l})}logout(){this.userData.logout(),this.router.navigateByUrl("/login")}support(){this.router.navigateByUrl("/support")}}var h=u("iInd"),v=e.nb({encapsulation:0,styles:[["img[_ngcontent-%COMP%]{max-width:140px}"]],data:{}});function f(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,2,"ion-title",[],null,null,null,o.Tb,o.V)),e.ob(1,49152,null,0,i.yb,[e.h,e.k,e.x],null,null),(l()(),e.Ib(-1,0,["Editando Estampa"]))],null,null)}function k(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,2,"ion-title",[],null,null,null,o.Tb,o.V)),e.ob(1,49152,null,0,i.yb,[e.h,e.k,e.x],null,null),(l()(),e.Ib(-1,0,["Nova Estampa"]))],null,null)}function I(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,1,"ion-icon",[["name","images-outline"],["style","font-size: 100px;"]],null,null,null,o.rb,o.t)),e.ob(1,49152,null,0,i.D,[e.h,e.k,e.x],{name:[0,"name"]},null)],(function(l,n){l(n,1,0,"images-outline")}),null)}function x(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null))],null,(function(l,n){l(n,0,0,n.component.estampaForm.get("imagem").value)}))}function C(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,0,"input",[["accept","image/*"],["id","updateImage"],["style","display: none;"],["type","file"]],null,[[null,"change"]],(function(l,n,u){var e=!0;return"change"===n&&(e=!1!==l.component.updateImage(u)&&e),e}),null,null))],null,null)}function B(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,4,"ion-col",[],null,null,null,o.jb,o.l)),e.ob(1,49152,null,0,i.u,[e.h,e.k,e.x],null,null),(l()(),e.pb(2,0,null,0,2,"ion-button",[["expand","block"],["type","submit"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.salvarEstampa()&&e),e}),o.bb,o.d)),e.ob(3,49152,null,0,i.l,[e.h,e.k,e.x],{disabled:[0,"disabled"],expand:[1,"expand"],type:[2,"type"]},null),(l()(),e.Ib(-1,0,[" Salvar "]))],(function(l,n){l(n,3,0,!n.component.estampaForm.valid,"block","submit")}),null)}function y(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,4,"ion-col",[],null,null,null,o.jb,o.l)),e.ob(1,49152,null,0,i.u,[e.h,e.k,e.x],null,null),(l()(),e.pb(2,0,null,0,2,"ion-button",[["expand","block"],["type","submit"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.editarEstampa()&&e),e}),o.bb,o.d)),e.ob(3,49152,null,0,i.l,[e.h,e.k,e.x],{disabled:[0,"disabled"],expand:[1,"expand"],type:[2,"type"]},null),(l()(),e.Ib(-1,0,[" Editar "]))],(function(l,n){l(n,3,0,!n.component.estampaForm.valid,"block","submit")}),null)}function F(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,4,"ion-col",[],null,null,null,o.jb,o.l)),e.ob(1,49152,null,0,i.u,[e.h,e.k,e.x],null,null),(l()(),e.pb(2,0,null,0,2,"ion-button",[["color","danger"],["expand","block"],["type","submit"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.deletarEstampa()&&e),e}),o.bb,o.d)),e.ob(3,49152,null,0,i.l,[e.h,e.k,e.x],{color:[0,"color"],disabled:[1,"disabled"],expand:[2,"expand"],type:[3,"type"]},null),(l()(),e.Ib(-1,0,[" Deletar "]))],(function(l,n){l(n,3,0,"danger",!n.component.estampaForm.valid,"block","submit")}),null)}function E(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,69,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,u){var t=!0;return"submit"===n&&(t=!1!==e.Bb(l,2).onSubmit(u)&&t),"reset"===n&&(t=!1!==e.Bb(l,2).onReset()&&t),t}),null,null)),e.ob(1,16384,null,0,r.t,[],null,null),e.ob(2,540672,null,0,r.e,[[8,null],[8,null]],{form:[0,"form"]},null),e.Fb(2048,null,r.a,null,[r.e]),e.ob(4,16384,null,0,r.k,[[4,r.a]],null,null),(l()(),e.pb(5,0,null,null,6,"label",[["for","updateImage"]],null,null,null,null,null)),(l()(),e.eb(16777216,null,null,1,null,I)),e.ob(7,16384,null,0,s.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,null,1,null,x)),e.ob(9,16384,null,0,s.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,null,1,null,C)),e.ob(11,16384,null,0,s.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.pb(12,0,null,null,57,"ion-list",[],null,null,null,o.wb,o.x)),e.ob(13,49152,null,0,i.P,[e.h,e.k,e.x],null,null),(l()(),e.pb(14,0,null,0,11,"ion-item",[],null,null,null,o.tb,o.v)),e.ob(15,49152,null,0,i.I,[e.h,e.k,e.x],null,null),(l()(),e.pb(16,0,null,0,2,"ion-label",[["color","primary"],["position","stacked"]],null,null,null,o.ub,o.w)),e.ob(17,49152,null,0,i.O,[e.h,e.k,e.x],{color:[0,"color"],position:[1,"position"]},null),(l()(),e.Ib(-1,0,["Nome"])),(l()(),e.pb(19,0,null,0,6,"ion-input",[["formControlName","nome"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var t=!0;return"ionBlur"===n&&(t=!1!==e.Bb(l,20)._handleBlurEvent(u.target)&&t),"ionChange"===n&&(t=!1!==e.Bb(l,20)._handleInputEvent(u.target)&&t),t}),o.sb,o.u)),e.ob(20,16384,null,0,i.Ob,[e.k],null,null),e.Fb(1024,null,r.h,(function(l){return[l]}),[i.Ob]),e.ob(22,671744,null,0,r.d,[[3,r.a],[8,null],[8,null],[6,r.h],[2,r.s]],{name:[0,"name"]},null),e.Fb(2048,null,r.i,null,[r.d]),e.ob(24,16384,null,0,r.j,[[4,r.i]],null,null),e.ob(25,49152,null,0,i.H,[e.h,e.k,e.x],{type:[0,"type"]},null),(l()(),e.pb(26,0,null,0,23,"ion-item",[],null,null,null,o.tb,o.v)),e.ob(27,49152,null,0,i.I,[e.h,e.k,e.x],null,null),(l()(),e.pb(28,0,null,0,2,"ion-label",[["color","primary"],["position","stacked"]],null,null,null,o.ub,o.w)),e.ob(29,49152,null,0,i.O,[e.h,e.k,e.x],{color:[0,"color"],position:[1,"position"]},null),(l()(),e.Ib(-1,0,["Categoria"])),(l()(),e.pb(31,0,null,0,18,"ion-select",[["formControlName","categoria"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var t=!0;return"ionBlur"===n&&(t=!1!==e.Bb(l,32)._handleBlurEvent(u.target)&&t),"ionChange"===n&&(t=!1!==e.Bb(l,32)._handleChangeEvent(u.target)&&t),t}),o.Jb,o.K)),e.ob(32,16384,null,0,i.Nb,[e.k],null,null),e.Fb(1024,null,r.h,(function(l){return[l]}),[i.Nb]),e.ob(34,671744,null,0,r.d,[[3,r.a],[8,null],[8,null],[6,r.h],[2,r.s]],{name:[0,"name"]},null),e.Fb(2048,null,r.i,null,[r.d]),e.ob(36,16384,null,0,r.j,[[4,r.i]],null,null),e.ob(37,49152,null,0,i.lb,[e.h,e.k,e.x],null,null),(l()(),e.pb(38,0,null,0,2,"ion-select-option",[["value","t-shirt"]],null,null,null,o.Ib,o.L)),e.ob(39,49152,null,0,i.mb,[e.h,e.k,e.x],{value:[0,"value"]},null),(l()(),e.Ib(-1,0,["T-shirt"])),(l()(),e.pb(41,0,null,0,2,"ion-select-option",[["value","pijama"]],null,null,null,o.Ib,o.L)),e.ob(42,49152,null,0,i.mb,[e.h,e.k,e.x],{value:[0,"value"]},null),(l()(),e.Ib(-1,0,["Pijama"])),(l()(),e.pb(44,0,null,0,2,"ion-select-option",[["value","cropped"]],null,null,null,o.Ib,o.L)),e.ob(45,49152,null,0,i.mb,[e.h,e.k,e.x],{value:[0,"value"]},null),(l()(),e.Ib(-1,0,["Cropped"])),(l()(),e.pb(47,0,null,0,2,"ion-select-option",[["value","vestido"]],null,null,null,o.Ib,o.L)),e.ob(48,49152,null,0,i.mb,[e.h,e.k,e.x],{value:[0,"value"]},null),(l()(),e.Ib(-1,0,["Vestido"])),(l()(),e.pb(50,0,null,0,11,"ion-item",[],null,null,null,o.tb,o.v)),e.ob(51,49152,null,0,i.I,[e.h,e.k,e.x],null,null),(l()(),e.pb(52,0,null,0,2,"ion-label",[["color","primary"],["position","stacked"]],null,null,null,o.ub,o.w)),e.ob(53,49152,null,0,i.O,[e.h,e.k,e.x],{color:[0,"color"],position:[1,"position"]},null),(l()(),e.Ib(-1,0,["Descri\xe7\xe3o"])),(l()(),e.pb(55,0,null,0,6,"ion-textarea",[["formControlName","descricao"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var t=!0;return"ionBlur"===n&&(t=!1!==e.Bb(l,56)._handleBlurEvent(u.target)&&t),"ionChange"===n&&(t=!1!==e.Bb(l,56)._handleInputEvent(u.target)&&t),t}),o.Sb,o.U)),e.ob(56,16384,null,0,i.Ob,[e.k],null,null),e.Fb(1024,null,r.h,(function(l){return[l]}),[i.Ob]),e.ob(58,671744,null,0,r.d,[[3,r.a],[8,null],[8,null],[6,r.h],[2,r.s]],{name:[0,"name"]},null),e.Fb(2048,null,r.i,null,[r.d]),e.ob(60,16384,null,0,r.j,[[4,r.i]],null,null),e.ob(61,49152,null,0,i.wb,[e.h,e.k,e.x],null,null),(l()(),e.pb(62,0,null,0,7,"ion-row",[],null,null,null,o.Eb,o.G)),e.ob(63,49152,null,0,i.hb,[e.h,e.k,e.x],null,null),(l()(),e.eb(16777216,null,0,1,null,B)),e.ob(65,16384,null,0,s.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,0,1,null,y)),e.ob(67,16384,null,0,s.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,0,1,null,F)),e.ob(69,16384,null,0,s.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,2,0,u.estampaForm),l(n,7,0,!u.estampaForm.get("imagem").value),l(n,9,0,u.estampaForm.get("imagem").value),l(n,11,0,!u.isEdit),l(n,17,0,"primary","stacked"),l(n,22,0,"nome"),l(n,25,0,"text"),l(n,29,0,"primary","stacked"),l(n,34,0,"categoria"),l(n,39,0,"t-shirt"),l(n,42,0,"pijama"),l(n,45,0,"cropped"),l(n,48,0,"vestido"),l(n,53,0,"primary","stacked"),l(n,58,0,"descricao"),l(n,65,0,!u.estampa),l(n,67,0,u.estampa),l(n,69,0,u.estampa)}),(function(l,n){l(n,0,0,e.Bb(n,4).ngClassUntouched,e.Bb(n,4).ngClassTouched,e.Bb(n,4).ngClassPristine,e.Bb(n,4).ngClassDirty,e.Bb(n,4).ngClassValid,e.Bb(n,4).ngClassInvalid,e.Bb(n,4).ngClassPending),l(n,19,0,e.Bb(n,24).ngClassUntouched,e.Bb(n,24).ngClassTouched,e.Bb(n,24).ngClassPristine,e.Bb(n,24).ngClassDirty,e.Bb(n,24).ngClassValid,e.Bb(n,24).ngClassInvalid,e.Bb(n,24).ngClassPending),l(n,31,0,e.Bb(n,36).ngClassUntouched,e.Bb(n,36).ngClassTouched,e.Bb(n,36).ngClassPristine,e.Bb(n,36).ngClassDirty,e.Bb(n,36).ngClassValid,e.Bb(n,36).ngClassInvalid,e.Bb(n,36).ngClassPending),l(n,55,0,e.Bb(n,60).ngClassUntouched,e.Bb(n,60).ngClassTouched,e.Bb(n,60).ngClassPristine,e.Bb(n,60).ngClassDirty,e.Bb(n,60).ngClassValid,e.Bb(n,60).ngClassInvalid,e.Bb(n,60).ngClassPending)}))}function j(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,4,"ion-content",[],null,null,null,o.kb,o.m)),e.ob(1,49152,null,0,i.v,[e.h,e.k,e.x],null,null),(l()(),e.pb(2,0,null,0,2,"div",[["class","ion-padding-top ion-text-center"]],null,null,null,null,null)),(l()(),e.eb(16777216,null,null,1,null,E)),e.ob(4,16384,null,0,s.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,4,0,n.component.estampaForm)}),null)}function w(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,3,"ion-content",[],null,null,null,o.kb,o.m)),e.ob(1,49152,null,0,i.v,[e.h,e.k,e.x],null,null),(l()(),e.pb(2,0,null,0,1,"ion-spinner",[["class","loading-list"]],null,null,null,o.Mb,o.O)),e.ob(3,49152,null,0,i.qb,[e.h,e.k,e.x],null,null)],null,null)}function U(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,11,"ion-header",[],null,null,null,o.qb,o.s)),e.ob(1,49152,null,0,i.C,[e.h,e.k,e.x],null,null),(l()(),e.pb(2,0,null,0,9,"ion-toolbar",[],null,null,null,o.Vb,o.X)),e.ob(3,49152,null,0,i.Ab,[e.h,e.k,e.x],null,null),(l()(),e.pb(4,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,o.cb,o.e)),e.ob(5,49152,null,0,i.m,[e.h,e.k,e.x],null,null),(l()(),e.pb(6,0,null,0,1,"ion-menu-button",[],null,null,null,o.xb,o.A)),e.ob(7,49152,null,0,i.S,[e.h,e.k,e.x],null,null),(l()(),e.eb(16777216,null,0,1,null,f)),e.ob(9,16384,null,0,s.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,0,1,null,k)),e.ob(11,16384,null,0,s.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,null,1,null,j)),e.ob(13,16384,null,0,s.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,null,1,null,w)),e.ob(15,16384,null,0,s.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,9,0,!1),l(n,11,0,!0),l(n,13,0,!u.isLoading),l(n,15,0,u.isLoading)}),null)}function M(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,1,"page-estampa-form",[],null,null,null,U,v)),e.ob(1,4243456,null,0,g,[r.b,i.b,h.m,p.a,c.a,d.a,m.a,h.a],null,null)],null,null)}var P=e.lb("page-estampa-form",g,M,{},{},[]);class K{}u.d(n,"EstampaFormModuleNgFactory",(function(){return L}));var L=e.mb(t,[],(function(l){return e.yb([e.zb(512,e.j,e.X,[[8,[a.a,P]],[3,e.j],e.v]),e.zb(4608,s.l,s.k,[e.s,[2,s.s]]),e.zb(4608,r.b,r.b,[]),e.zb(4608,r.r,r.r,[]),e.zb(4608,i.c,i.c,[e.x,e.g]),e.zb(4608,i.Fb,i.Fb,[i.c,e.j,e.p]),e.zb(4608,i.Kb,i.Kb,[i.c,e.j,e.p]),e.zb(1073742336,s.b,s.b,[]),e.zb(1073742336,r.q,r.q,[]),e.zb(1073742336,r.n,r.n,[]),e.zb(1073742336,r.f,r.f,[]),e.zb(1073742336,i.Cb,i.Cb,[]),e.zb(1073742336,h.q,h.q,[[2,h.v],[2,h.m]]),e.zb(1073742336,K,K,[]),e.zb(1073742336,t,t,[]),e.zb(1024,h.k,(function(){return[[{path:"",component:g}]]}),[])])}))}}]);