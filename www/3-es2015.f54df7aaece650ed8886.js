(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"3/vk":function(l,n,u){"use strict";u.r(n);var e=u("8Y7J");class t{}var a=u("pMnS"),o=u("MKJQ"),i=u("sZkV"),r=u("s7LF"),s=u("SVse"),b=u("mrSG"),p=u("KApT"),c=u("HUy7"),m=u("sM2F"),d=u("JV4b");class g{constructor(l,n,u,e,t,a,o,i){this.formBuilder=l,this.alertCtrl=n,this.router=u,this.userData=e,this.utilProvider=t,this.errorChecker=a,this.estampaProvider=o,this.activatedRoute=i,this.isLoading=!1,this.loading=!1}ngAfterViewInit(){this.initFormEstampa();let l=this.activatedRoute.snapshot.paramMap.get("estampa_id");l&&(this.loading=!0,this.estampaProvider.findById(l).then(l=>{l&&(this.estampa=l,this.estampaForm.patchValue(this.estampa),this.loading=!1)})),this.getUsername()}initFormEstampa(){this.estampaForm=this.formBuilder.group({nome:new r.c("",r.p.required),categoria:new r.c("",r.p.required),descricao:new r.c("",r.p.required),imagem:new r.c("",r.p.required)})}salvarEstampa(){this.isLoading=!0,this.estampaProvider.create(this.estampaForm.value).then(()=>{this.estampaForm.reset(),this.router.navigateByUrl("/app/tabs/estampas")}).catch(l=>{this.errorChecker.getErrorMessage("Erro ao tentar salvar estampa",l)}).then(()=>this.isLoading=!1)}editarEstampa(){this.isLoading=!0,this.estampaProvider.update(this.estampaForm.value,this.estampa.id).then(()=>{this.estampaForm.reset(),this.router.navigateByUrl("/app/tabs/estampas")}).catch(l=>{this.errorChecker.getErrorMessage("Erro ao tentar editar estampa",l)}).then(()=>this.isLoading=!1)}deletarEstampa(){this.isLoading=!0,this.estampaProvider.delete(this.estampa.id).then(()=>{this.estampaForm.reset(),this.router.navigateByUrl("/app/tabs/estampas")}).catch(l=>{this.errorChecker.getErrorMessage("Erro ao tentar deletar estampa",l)}).then(()=>this.isLoading=!1)}updatePicture(){console.log("Clicked to update picture")}changePropertyForm(l){return b.a(this,void 0,void 0,(function*(){const n=yield this.alertCtrl.create({header:"Alterar "+l,buttons:["Cancelar",{text:"Ok",handler:l=>{this.userData.setUsername(l.username),this.getUsername()}}],inputs:[{type:"text",name:"username",value:this.username,placeholder:"username"}]});yield n.present()}))}updateImage(l){if(l.target.files&&l.target.files.length>0){let n=new FileReader;n.readAsDataURL(l.target.files[0]),n.onload=()=>{this.compressBase64Image(n.result.toString(),250,350).then(l=>{this.estampaForm.get("imagem").setValue(l)})}}}compressBase64Image(l,n,u){return new Promise((e,t)=>{const a=new Image;a.src=l,a.onload=()=>{const l=document.createElement("canvas");l.width=n,l.height=u;const t=l.getContext("2d");t.drawImage(a,0,0,n,u);const o=t.canvas.toDataURL();e(o)},a.onerror=l=>t(l)})}changeUsername(){return b.a(this,void 0,void 0,(function*(){const l=yield this.alertCtrl.create({header:"Change Username",buttons:["Cancelar",{text:"Ok",handler:l=>{this.userData.setUsername(l.username),this.getUsername()}}],inputs:[{type:"text",name:"username",value:this.username,placeholder:"username"}]});yield l.present()}))}getUsername(){this.userData.getUsername().then(l=>{this.username=l})}logout(){this.userData.logout(),this.router.navigateByUrl("/login")}support(){this.router.navigateByUrl("/support")}}var h=u("iInd"),v=e.nb({encapsulation:0,styles:[["img[_ngcontent-%COMP%]{max-width:140px}"]],data:{}});function f(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,2,"ion-title",[],null,null,null,o.Vb,o.W)),e.ob(1,49152,null,0,i.yb,[e.h,e.k,e.x],null,null),(l()(),e.Ib(-1,0,["Editando Estampa"]))],null,null)}function k(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,2,"ion-title",[],null,null,null,o.Vb,o.W)),e.ob(1,49152,null,0,i.yb,[e.h,e.k,e.x],null,null),(l()(),e.Ib(-1,0,["Nova Estampa"]))],null,null)}function x(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,1,"ion-icon",[["name","images-outline"],["style","font-size: 100px;"]],null,null,null,o.tb,o.u)),e.ob(1,49152,null,0,i.D,[e.h,e.k,e.x],{name:[0,"name"]},null)],(function(l,n){l(n,1,0,"images-outline")}),null)}function B(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null))],null,(function(l,n){l(n,0,0,n.component.estampaForm.get("imagem").value)}))}function C(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,4,"ion-col",[],null,null,null,o.kb,o.l)),e.ob(1,49152,null,0,i.u,[e.h,e.k,e.x],null,null),(l()(),e.pb(2,0,null,0,2,"ion-button",[["expand","block"],["type","submit"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.salvarEstampa()&&e),e}),o.cb,o.d)),e.ob(3,49152,null,0,i.l,[e.h,e.k,e.x],{disabled:[0,"disabled"],expand:[1,"expand"],type:[2,"type"]},null),(l()(),e.Ib(-1,0,[" Salvar "]))],(function(l,n){l(n,3,0,!n.component.estampaForm.valid,"block","submit")}),null)}function y(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,4,"ion-col",[],null,null,null,o.kb,o.l)),e.ob(1,49152,null,0,i.u,[e.h,e.k,e.x],null,null),(l()(),e.pb(2,0,null,0,2,"ion-button",[["expand","block"],["type","submit"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.editarEstampa()&&e),e}),o.cb,o.d)),e.ob(3,49152,null,0,i.l,[e.h,e.k,e.x],{disabled:[0,"disabled"],expand:[1,"expand"],type:[2,"type"]},null),(l()(),e.Ib(-1,0,[" Editar "]))],(function(l,n){l(n,3,0,!n.component.estampaForm.valid,"block","submit")}),null)}function I(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,4,"ion-col",[],null,null,null,o.kb,o.l)),e.ob(1,49152,null,0,i.u,[e.h,e.k,e.x],null,null),(l()(),e.pb(2,0,null,0,2,"ion-button",[["color","danger"],["expand","block"],["type","submit"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.deletarEstampa()&&e),e}),o.cb,o.d)),e.ob(3,49152,null,0,i.l,[e.h,e.k,e.x],{color:[0,"color"],disabled:[1,"disabled"],expand:[2,"expand"],type:[3,"type"]},null),(l()(),e.Ib(-1,0,[" Deletar "]))],(function(l,n){l(n,3,0,"danger",!n.component.estampaForm.valid,"block","submit")}),null)}function F(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,68,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,u){var t=!0;return"submit"===n&&(t=!1!==e.Bb(l,2).onSubmit(u)&&t),"reset"===n&&(t=!1!==e.Bb(l,2).onReset()&&t),t}),null,null)),e.ob(1,16384,null,0,r.t,[],null,null),e.ob(2,540672,null,0,r.e,[[8,null],[8,null]],{form:[0,"form"]},null),e.Fb(2048,null,r.a,null,[r.e]),e.ob(4,16384,null,0,r.k,[[4,r.a]],null,null),(l()(),e.pb(5,0,null,null,5,"label",[["for","updateImage"]],null,null,null,null,null)),(l()(),e.eb(16777216,null,null,1,null,x)),e.ob(7,16384,null,0,s.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,null,1,null,B)),e.ob(9,16384,null,0,s.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.pb(10,0,null,null,0,"input",[["accept","image/*"],["id","updateImage"],["style","display: none;"],["type","file"]],null,[[null,"change"]],(function(l,n,u){var e=!0;return"change"===n&&(e=!1!==l.component.updateImage(u)&&e),e}),null,null)),(l()(),e.pb(11,0,null,null,57,"ion-list",[],null,null,null,o.yb,o.y)),e.ob(12,49152,null,0,i.P,[e.h,e.k,e.x],null,null),(l()(),e.pb(13,0,null,0,11,"ion-item",[],null,null,null,o.vb,o.w)),e.ob(14,49152,null,0,i.I,[e.h,e.k,e.x],null,null),(l()(),e.pb(15,0,null,0,2,"ion-label",[["color","primary"],["position","stacked"]],null,null,null,o.wb,o.x)),e.ob(16,49152,null,0,i.O,[e.h,e.k,e.x],{color:[0,"color"],position:[1,"position"]},null),(l()(),e.Ib(-1,0,["Nome"])),(l()(),e.pb(18,0,null,0,6,"ion-input",[["formControlName","nome"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var t=!0;return"ionBlur"===n&&(t=!1!==e.Bb(l,19)._handleBlurEvent(u.target)&&t),"ionChange"===n&&(t=!1!==e.Bb(l,19)._handleInputEvent(u.target)&&t),t}),o.ub,o.v)),e.ob(19,16384,null,0,i.Ob,[e.k],null,null),e.Fb(1024,null,r.h,(function(l){return[l]}),[i.Ob]),e.ob(21,671744,null,0,r.d,[[3,r.a],[8,null],[8,null],[6,r.h],[2,r.s]],{name:[0,"name"]},null),e.Fb(2048,null,r.i,null,[r.d]),e.ob(23,16384,null,0,r.j,[[4,r.i]],null,null),e.ob(24,49152,null,0,i.H,[e.h,e.k,e.x],{type:[0,"type"]},null),(l()(),e.pb(25,0,null,0,23,"ion-item",[],null,null,null,o.vb,o.w)),e.ob(26,49152,null,0,i.I,[e.h,e.k,e.x],null,null),(l()(),e.pb(27,0,null,0,2,"ion-label",[["color","primary"],["position","stacked"]],null,null,null,o.wb,o.x)),e.ob(28,49152,null,0,i.O,[e.h,e.k,e.x],{color:[0,"color"],position:[1,"position"]},null),(l()(),e.Ib(-1,0,["Categoria"])),(l()(),e.pb(30,0,null,0,18,"ion-select",[["formControlName","categoria"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var t=!0;return"ionBlur"===n&&(t=!1!==e.Bb(l,31)._handleBlurEvent(u.target)&&t),"ionChange"===n&&(t=!1!==e.Bb(l,31)._handleChangeEvent(u.target)&&t),t}),o.Lb,o.L)),e.ob(31,16384,null,0,i.Nb,[e.k],null,null),e.Fb(1024,null,r.h,(function(l){return[l]}),[i.Nb]),e.ob(33,671744,null,0,r.d,[[3,r.a],[8,null],[8,null],[6,r.h],[2,r.s]],{name:[0,"name"]},null),e.Fb(2048,null,r.i,null,[r.d]),e.ob(35,16384,null,0,r.j,[[4,r.i]],null,null),e.ob(36,49152,null,0,i.lb,[e.h,e.k,e.x],null,null),(l()(),e.pb(37,0,null,0,2,"ion-select-option",[["value","t-shirt"]],null,null,null,o.Kb,o.M)),e.ob(38,49152,null,0,i.mb,[e.h,e.k,e.x],{value:[0,"value"]},null),(l()(),e.Ib(-1,0,["T-shirt"])),(l()(),e.pb(40,0,null,0,2,"ion-select-option",[["value","pijama"]],null,null,null,o.Kb,o.M)),e.ob(41,49152,null,0,i.mb,[e.h,e.k,e.x],{value:[0,"value"]},null),(l()(),e.Ib(-1,0,["Pijama"])),(l()(),e.pb(43,0,null,0,2,"ion-select-option",[["value","cropped"]],null,null,null,o.Kb,o.M)),e.ob(44,49152,null,0,i.mb,[e.h,e.k,e.x],{value:[0,"value"]},null),(l()(),e.Ib(-1,0,["Cropped"])),(l()(),e.pb(46,0,null,0,2,"ion-select-option",[["value","vestido"]],null,null,null,o.Kb,o.M)),e.ob(47,49152,null,0,i.mb,[e.h,e.k,e.x],{value:[0,"value"]},null),(l()(),e.Ib(-1,0,["Vestido"])),(l()(),e.pb(49,0,null,0,11,"ion-item",[],null,null,null,o.vb,o.w)),e.ob(50,49152,null,0,i.I,[e.h,e.k,e.x],null,null),(l()(),e.pb(51,0,null,0,2,"ion-label",[["color","primary"],["position","stacked"]],null,null,null,o.wb,o.x)),e.ob(52,49152,null,0,i.O,[e.h,e.k,e.x],{color:[0,"color"],position:[1,"position"]},null),(l()(),e.Ib(-1,0,["Descri\xe7\xe3o"])),(l()(),e.pb(54,0,null,0,6,"ion-textarea",[["formControlName","descricao"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var t=!0;return"ionBlur"===n&&(t=!1!==e.Bb(l,55)._handleBlurEvent(u.target)&&t),"ionChange"===n&&(t=!1!==e.Bb(l,55)._handleInputEvent(u.target)&&t),t}),o.Ub,o.V)),e.ob(55,16384,null,0,i.Ob,[e.k],null,null),e.Fb(1024,null,r.h,(function(l){return[l]}),[i.Ob]),e.ob(57,671744,null,0,r.d,[[3,r.a],[8,null],[8,null],[6,r.h],[2,r.s]],{name:[0,"name"]},null),e.Fb(2048,null,r.i,null,[r.d]),e.ob(59,16384,null,0,r.j,[[4,r.i]],null,null),e.ob(60,49152,null,0,i.wb,[e.h,e.k,e.x],null,null),(l()(),e.pb(61,0,null,0,7,"ion-row",[],null,null,null,o.Gb,o.H)),e.ob(62,49152,null,0,i.hb,[e.h,e.k,e.x],null,null),(l()(),e.eb(16777216,null,0,1,null,C)),e.ob(64,16384,null,0,s.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,0,1,null,y)),e.ob(66,16384,null,0,s.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,0,1,null,I)),e.ob(68,16384,null,0,s.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,2,0,u.estampaForm),l(n,7,0,!u.estampaForm.get("imagem").value),l(n,9,0,u.estampaForm.get("imagem").value),l(n,16,0,"primary","stacked"),l(n,21,0,"nome"),l(n,24,0,"text"),l(n,28,0,"primary","stacked"),l(n,33,0,"categoria"),l(n,38,0,"t-shirt"),l(n,41,0,"pijama"),l(n,44,0,"cropped"),l(n,47,0,"vestido"),l(n,52,0,"primary","stacked"),l(n,57,0,"descricao"),l(n,64,0,!u.estampa),l(n,66,0,u.estampa),l(n,68,0,u.estampa)}),(function(l,n){l(n,0,0,e.Bb(n,4).ngClassUntouched,e.Bb(n,4).ngClassTouched,e.Bb(n,4).ngClassPristine,e.Bb(n,4).ngClassDirty,e.Bb(n,4).ngClassValid,e.Bb(n,4).ngClassInvalid,e.Bb(n,4).ngClassPending),l(n,18,0,e.Bb(n,23).ngClassUntouched,e.Bb(n,23).ngClassTouched,e.Bb(n,23).ngClassPristine,e.Bb(n,23).ngClassDirty,e.Bb(n,23).ngClassValid,e.Bb(n,23).ngClassInvalid,e.Bb(n,23).ngClassPending),l(n,30,0,e.Bb(n,35).ngClassUntouched,e.Bb(n,35).ngClassTouched,e.Bb(n,35).ngClassPristine,e.Bb(n,35).ngClassDirty,e.Bb(n,35).ngClassValid,e.Bb(n,35).ngClassInvalid,e.Bb(n,35).ngClassPending),l(n,54,0,e.Bb(n,59).ngClassUntouched,e.Bb(n,59).ngClassTouched,e.Bb(n,59).ngClassPristine,e.Bb(n,59).ngClassDirty,e.Bb(n,59).ngClassValid,e.Bb(n,59).ngClassInvalid,e.Bb(n,59).ngClassPending)}))}function w(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,4,"ion-content",[],null,null,null,o.lb,o.m)),e.ob(1,49152,null,0,i.v,[e.h,e.k,e.x],null,null),(l()(),e.pb(2,0,null,0,2,"div",[["class","ion-padding-top ion-text-center"]],null,null,null,null,null)),(l()(),e.eb(16777216,null,null,1,null,F)),e.ob(4,16384,null,0,s.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,4,0,n.component.estampaForm)}),null)}function E(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,3,"ion-content",[],null,null,null,o.lb,o.m)),e.ob(1,49152,null,0,i.v,[e.h,e.k,e.x],null,null),(l()(),e.pb(2,0,null,0,1,"ion-spinner",[["class","loading-list"]],null,null,null,o.Ob,o.P)),e.ob(3,49152,null,0,i.qb,[e.h,e.k,e.x],null,null)],null,null)}function M(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,11,"ion-header",[],null,null,null,o.sb,o.t)),e.ob(1,49152,null,0,i.C,[e.h,e.k,e.x],null,null),(l()(),e.pb(2,0,null,0,9,"ion-toolbar",[],null,null,null,o.Xb,o.Y)),e.ob(3,49152,null,0,i.Ab,[e.h,e.k,e.x],null,null),(l()(),e.pb(4,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,o.db,o.e)),e.ob(5,49152,null,0,i.m,[e.h,e.k,e.x],null,null),(l()(),e.pb(6,0,null,0,1,"ion-menu-button",[],null,null,null,o.zb,o.B)),e.ob(7,49152,null,0,i.S,[e.h,e.k,e.x],null,null),(l()(),e.eb(16777216,null,0,1,null,f)),e.ob(9,16384,null,0,s.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,0,1,null,k)),e.ob(11,16384,null,0,s.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,null,1,null,w)),e.ob(13,16384,null,0,s.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,null,1,null,E)),e.ob(15,16384,null,0,s.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,9,0,!1),l(n,11,0,!0),l(n,13,0,!u.loading),l(n,15,0,u.loading)}),null)}function U(l){return e.Kb(0,[(l()(),e.pb(0,0,null,null,1,"page-estampa-form",[],null,null,null,M,v)),e.ob(1,4243456,null,0,g,[r.b,i.b,h.m,p.a,c.a,m.a,d.a,h.a],null,null)],null,null)}var P=e.lb("page-estampa-form",g,U,{},{},[]);class K{}u.d(n,"EstampaFormModuleNgFactory",(function(){return z}));var z=e.mb(t,[],(function(l){return e.yb([e.zb(512,e.j,e.X,[[8,[a.a,P]],[3,e.j],e.v]),e.zb(4608,s.m,s.l,[e.s,[2,s.w]]),e.zb(4608,r.b,r.b,[]),e.zb(4608,r.r,r.r,[]),e.zb(4608,i.c,i.c,[e.x,e.g]),e.zb(4608,i.Fb,i.Fb,[i.c,e.j,e.p]),e.zb(4608,i.Kb,i.Kb,[i.c,e.j,e.p]),e.zb(1073742336,s.b,s.b,[]),e.zb(1073742336,r.q,r.q,[]),e.zb(1073742336,r.n,r.n,[]),e.zb(1073742336,r.f,r.f,[]),e.zb(1073742336,i.Cb,i.Cb,[]),e.zb(1073742336,h.q,h.q,[[2,h.v],[2,h.m]]),e.zb(1073742336,K,K,[]),e.zb(1073742336,t,t,[]),e.zb(1024,h.k,(function(){return[[{path:"",component:g}]]}),[])])}))}}]);